<html>
    <head>
        <meta charset="utf-8" />
        <title>Articles | Andres Monge</title>
        <style>
            body {
                background: #b8ae9e;
                color: #3d2b59;
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
                display: flex;
            }
            a {
                color: #3d2b59;
                text-decoration: none;
            }
            a:hover {
                color: #005e86;
                text-decoration: underline;
            }
            .nav-bar {
                width: 180px;
                background: #e0d6c6;
                padding: 0 20px;
                height: 100vh;
                overflow-y: auto;
                box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            }
            .nav-bar h3 {
                margin: 0;
                padding: 10px 0;
                font-size: 1.2em;
            }
            .nav-bar .subcategory {
                font-weight: bold;
                margin-top: 10px;
                cursor: pointer;
            }
            .nav-bar .subcategory:hover {
                color: #005e86;
            }
            .nav-bar .articles {
                margin-left: 10px;
                display: none; /* Default: hidden */
            }
            .nav-bar .articles.open {
                display: block; /* Force subcategories to be open */
            }
            .nav-bar .articles a {
                display: block;
                padding: 5px;
                border-radius: 5px;
                background: #f6f2ee;
                margin: 5px 0;
            }
            .nav-bar .articles a:hover {
                background: #d0c6b6;
            }
            iframe#article-frame {
                flex: 1;
                border: none;
            }
        </style>
        <script>
            function toggleCategory(category) {
                const articles = category.nextElementSibling;
                articles.style.display =
                    articles.style.display === 'block' ? 'none' : 'block';
            }
        </script>
    </head>
    <body>
        <div class="nav-bar">
            {{- range (datasource "nav") }}
                <h3>{{ .language }}</h3>
                {{- range .articles }}
                    <div class="subcategory" onclick="toggleCategory(this)">
                        {{ .category }}
                    </div>
                    <div class="articles">
                        {{- range .articles }}
                            <a href="{{ .url }}" target="article-frame">{{ .name }}</a>
                        {{- end }}
                    </div>
                {{- end }}
            {{- end }}
        </div>
        <iframe
            id="article-frame"
            name="article-frame"
            src="/articles_home.html"
        ></iframe>
    </body>
</html>
